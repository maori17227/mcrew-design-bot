# üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è - Cloudflare Workers

## –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ Wrangler

### –ï—Å–ª–∏ —É —Ç–µ–±—è Windows:

1. –°–∫–∞—á–∞–π Node.js: https://nodejs.org/en/download/
2. –£—Å—Ç–∞–Ω–æ–≤–∏ (–ø—Ä–æ—Å—Ç–æ Next ‚Üí Next ‚Üí Install)
3. –û—Ç–∫—Ä–æ–π –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (Win+R ‚Üí cmd)
4. –ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
node --version
npm --version
```

5. –£—Å—Ç–∞–Ω–æ–≤–∏ Wrangler:
```bash
npm install -g wrangler
```

---

## –®–ê–ì 2: –õ–æ–≥–∏–Ω –≤ Cloudflare

```bash
wrangler login
```

- –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä
- –ï—Å–ª–∏ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ - —Å–æ–∑–¥–∞–π (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- –†–∞–∑—Ä–µ—à–∏ –¥–æ—Å—Ç—É–ø Wrangler

---

## –®–ê–ì 3: –î–µ–ø–ª–æ–π –±–æ—Ç–∞

–í –ø–∞–ø–∫–µ —Å –±–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω–∏:

```bash
wrangler deploy
```

–ü–æ–ª—É—á–∏—à—å URL —Ç–∏–ø–∞:
```
https://mcrew-bot.—Ç–≤–æ–π-–∞–∫–∫–∞—É–Ω—Ç.workers.dev
```

**–°–û–•–†–ê–ù–ò –≠–¢–û–¢ URL!** –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–∞–ª—å—à–µ.

---

## –®–ê–ì 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ Dashboard (–ø—Ä–æ—â–µ)

1. –ó–∞–π–¥–∏ –Ω–∞ https://dash.cloudflare.com
2. –°–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏ **Workers & Pages**
3. –ù–∞–π–¥–∏ **mcrew-bot** –≤ —Å–ø–∏—Å–∫–µ
4. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ
5. –ü–µ—Ä–µ–π–¥–∏ –≤ **Settings** ‚Üí **Variables**
6. –ù–∞–∂–º–∏ **Add variable**

–î–æ–±–∞–≤—å –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 1:**
- Name: `BOT_TOKEN`
- Value: `8363446053:AAGfig_At866R3bVU9rNrY4AOuJQxnz_t2M`
- Type: Text (–Ω–µ Encrypted)

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 2:**
- Name: `ADMIN_CHAT_ID`
- Value: —Ç–≤–æ–π chat_id (—Å–º. –Ω–∏–∂–µ –∫–∞–∫ —É–∑–Ω–∞—Ç—å)
- Type: Text (–Ω–µ Encrypted)

7. –ù–∞–∂–º–∏ **Save**

### –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π ADMIN_CHAT_ID:

1. –û—Ç–∫—Ä–æ–π Telegram
2. –ù–∞–ø–∏—à–∏ –±–æ—Ç—É @userinfobot
3. –û–Ω –ø—Ä–∏—à–ª–µ—Ç —Ç–≤–æ–π ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)
4. –°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ —á–∏—Å–ª–æ –∏ –≤—Å—Ç–∞–≤—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ADMIN_CHAT_ID`

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
wrangler secret put BOT_TOKEN
# –í—Å—Ç–∞–≤—å: 8363446053:AAGfig_At866R3bVU9rNrY4AOuJQxnz_t2M

wrangler secret put ADMIN_CHAT_ID
# –í—Å—Ç–∞–≤—å: —Ç–≤–æ–π_chat_id
```

---

## –®–ê–ì 5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Webhook

–ó–∞–º–µ–Ω–∏ `YOUR_WORKER_URL` –Ω–∞ URL –∏–∑ –®–∞–≥–∞ 3:

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (–ø—Ä–æ—â–µ)

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∑–∞–º–µ–Ω–∏ YOUR_WORKER_URL):
```
https://api.telegram.org/bot8363446053:AAGfig_At866R3bVU9rNrY4AOuJQxnz_t2M/setWebhook?url=YOUR_WORKER_URL
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è:
```json
{"ok":true,"result":true,"description":"Webhook was set"}
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
curl "https://api.telegram.org/bot8363446053:AAGfig_At866R3bVU9rNrY4AOuJQxnz_t2M/setWebhook?url=YOUR_WORKER_URL"
```

---

## –®–ê–ì 6: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞: https://t.me/mindescrew_bot
2. –ù–∞–ø–∏—à–∏ `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

–ü—Ä–æ–≤–µ—Ä—å webhook:
```
https://api.telegram.org/bot8363446053:AAGfig_At866R3bVU9rNrY4AOuJQxnz_t2M/getWebhookInfo
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```json
{
  "ok": true,
  "result": {
    "url": "https://mcrew-bot.—Ç–≤–æ–π-–∞–∫–∫–∞—É–Ω—Ç.workers.dev",
    "has_custom_certificate": false,
    "pending_update_count": 0
  }
}
```

---

## –®–ê–ì 7: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ Render (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Cloudflare:

1. –ó–∞–π–¥–∏ –Ω–∞ https://dashboard.render.com
2. –ù–∞–π–¥–∏ —Å–≤–æ–π —Å–µ—Ä–≤–∏—Å
3. –ù–∞–∂–º–∏ **Suspend** –∏–ª–∏ **Delete**

–ò–ª–∏ –æ—Å—Ç–∞–≤—å –∫–∞–∫ backup - –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç.

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥:

```bash
wrangler deploy
```

–í—Å—ë! –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∑–∞ 10 —Å–µ–∫—É–Ω–¥.

---

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–°–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

```bash
wrangler tail
```

–ò–ª–∏ –≤ Dashboard:
**Workers & Pages** ‚Üí **mcrew-bot** ‚Üí **Logs**

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### "env is not defined"
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –æ–±–Ω–æ–≤–∏ —Ñ–∞–π–ª `worker.js` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### "BOT_TOKEN is undefined"
‚ùå –ù–µ –¥–æ–±–∞–≤–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Dashboard
‚úÖ –ó–∞–π–¥–∏ –≤ Settings ‚Üí Variables –∏ –¥–æ–±–∞–≤—å

### "Webhook not set"
‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª webhook
‚úÖ –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ URL –∏–∑ –®–∞–≥–∞ 5

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
‚ùå Webhook —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ä—ã–π URL
‚úÖ –ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä–µ–∑ getWebhookInfo –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–Ω–æ–≤–æ

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å —Ç–≤–æ–π –±–æ—Ç:
- ‚ö° –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ 20-50ms
- üåç –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- üí™ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç
- üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞

–ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è!
